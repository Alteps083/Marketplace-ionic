<ion-content>
  <div class="home-img">
    <div class="reset-password-content">
      <h2>Restablecer Contraseña</h2>
      <form [formGroup]="resetContra" (ngSubmit)="cambiarPassword()">
        <ion-item>
          <ion-label position="floating">Código de Recuperación</ion-label>
          <ion-input type="text" formControlName="codigo"></ion-input>
        </ion-item>
        <div *ngIf="resetContra.get('codigo')?.invalid && resetContra.get('codigo')?.touched">
          <ion-text color="danger">El código es requerido</ion-text>
        </div>
        <ion-item>
          <ion-label position="floating">Nueva Contraseña</ion-label>
          <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="nuevaPassword"></ion-input>
          <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" slot="end" (click)="togglePasswordVisibility()"></ion-icon>
        </ion-item>
        <div *ngIf="resetContra.get('nuevaPassword')?.invalid && resetContra.get('nuevaPassword')?.touched">
          <ion-text color="danger" *ngIf="resetContra.get('nuevaPassword')?.errors?.['required']">
            La contraseña es requerida
          </ion-text>
          <ion-text color="danger" *ngIf="resetContra.get('nuevaPassword')?.errors?.['minlength']">
            La contraseña debe tener al menos 8 caracteres
          </ion-text>
          <ion-text color="danger" *ngIf="resetContra.get('nuevaPassword')?.errors?.['pattern']">
            Debe contener al menos una mayúscula, una minúscula, un número y un carácter especial.
          </ion-text>
        </div>
        <ion-item>
          <ion-label position="floating">Confirmar Contraseña</ion-label>
          <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="confirmarPassword"></ion-input>
          <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" slot="end" (click)="togglePasswordVisibility()"></ion-icon>
        </ion-item>
        <div *ngIf="resetContra.errors?.['noCoinciden']">
          <ion-text color="danger">Las contraseñas no coinciden</ion-text>
        </div>
        <ion-button expand="full" type="submit" [disabled]="resetContra.invalid">
          Cambiar Contraseña
        </ion-button>
      </form>
    </div>
  </div>
</ion-content>