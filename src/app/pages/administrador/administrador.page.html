<ion-header [fullscreen]="true">
  <ion-toolbar color="--ion-color-primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title class="titulo">Administrador</ion-title>
    <ion-button class="btn-search" slot="end" (click)="toggleSearchBar()">
      <ion-icon name="search-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
  <ion-searchbar [(ngModel)]="searchTerm" (ionInput)="filtrarItems($event)" placeholder="Buscar..."></ion-searchbar>
</ion-header>

<ion-content>
  <div class="home-page"></div>
  <div class="fond-admi">
  <!-- Botones para seleccionar qué tabla mostrar -->
   <h2>Selecciona la lista</h2>
  <ion-button (click)="mostrarTablaUsuarios()">Mostrar Usuarios</ion-button>
  <ion-button (click)="mostrarTablaProductos()">Mostrar Productos</ion-button>
  <ion-button (click)="mostrarTablaReclamos()">Mostrar Reclamos</ion-button>

  <!-- Tabla de Usuarios -->
  <div *ngIf="mostrarUsuarios">
    <h2>Lista de Usuarios</h2>
    <ion-list>
      <ion-item *ngFor="let usuario of usuariosFiltrados">
        <ion-label>
          <h2>{{ usuario.nombre }}</h2>
          <p>(ID: {{ usuario.id }})</p>
          <p>Email: {{ usuario.email }}</p>
          <p>Teléfono: {{ usuario.telefono }}</p>
        </ion-label>
        <div class="botones">
        <ion-button color="danger" (click)="banearUsuario(usuario)">
          {{ usuario.estado === 1 ? 'Desbanear' : 'Banear' }}
        </ion-button>
        <ion-button (click)="eliminarusuario(usuario.id!)">Eliminar</ion-button>
      </div>
      </ion-item>
    </ion-list>
  </div>

  <!-- Tabla de Productos -->
  <div *ngIf="mostrarProductos">
    <h2>Lista de Productos</h2>
    <ion-list>
      <ion-item *ngFor="let producto of productosFiltrados">
        <ion-label>
          <h2>{{ producto.nombre_producto }}</h2>
          <p>{{ producto.descripcion }}</p>
          <p>Precio: {{ producto.precio | currency }}</p>
        </ion-label>
        <div class="botones">
        <ion-button color="primary" (click)="editarProducto(producto)">Editar</ion-button>
        <ion-button color="danger" (click)="eliminarProducto(producto.id)">Eliminar</ion-button>
      </div>
      </ion-item>
    </ion-list>
  </div>

  <!-- Tabla de Reclamos -->
  <div *ngIf="mostrarReclamos">
    <h2>Lista de Reclamos</h2>
    <ion-list>
      <ion-item *ngFor="let reclamo of reclamosFiltrados">
        <ion-label>
          <h2>{{ reclamo.email }}</h2>
          <p>Tipo: {{ reclamo.tipoProblema }}</p>
          <p>Descripción: {{ reclamo.descripcion }}</p>
        </ion-label>
        <div class="botones">
        <ion-button color="danger" (click)="eliminarReclamo(reclamo.id)">Eliminar</ion-button>
      </div>
      </ion-item>
    </ion-list>
  </div>
</div>
</ion-content>
